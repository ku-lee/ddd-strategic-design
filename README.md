# 키친포스

## 요구 사항

### 상품

* 상품을 등록할 수 있다.
* 상품의 가격이 올바르지 않으면 등록할 수 없다.
    * 상품의 가격은 0 원 이상이어야 한다.
* 상품의 목록을 조회할 수 있다.

### 메뉴 그룹

* 메뉴 그룹을 등록할 수 있다.
* 메뉴 그룹의 목록을 조회할 수 있다.

### 메뉴

* 1 개 이상의 등록된 상품으로 메뉴를 등록할 수 있다.
* 메뉴의 가격이 올바르지 않으면 등록할 수 없다.
    * 메뉴의 가격은 0 원 이상이어야 한다.
    * 메뉴에 속한 상품 금액의 합은 메뉴의 가격보다 크거나 같아야 한다.
* 메뉴는 특정 메뉴 그룹에 속해야 한다.
* 메뉴의 목록을 조회할 수 있다.

### 테이블

* 테이블을 등록할 수 있다.
* 테이블의 목록을 조회할 수 있다.
* 빈 테이블 설정 또는 해지할 수 있다.
* 단체 지정된 테이블은 빈 테이블 설정 또는 해지할 수 없다.
* 주문 상태가 조리 또는 식사인 테이블은 빈 테이블 설정 또는 해지할 수 없다.
* 방문한 손님 수를 입력할 수 있다.
* 방문한 손님 수가 올바르지 않으면 입력할 수 없다.
    * 방문한 손님 수는 0 명 이상이어야 한다.
* 빈 테이블은 방문한 손님 수를 입력할 수 없다.

### 단체 지정

* 2 개 이상의 빈 테이블을 단체로 지정할 수 있다.
* 단체 지정은 중복될 수 없다.
* 단체 지정을 해지할 수 있다.
* 단체 지정된 테이블의 주문 상태가 조리 또는 식사인 경우 단체 지정을 해지할 수 없다.

### 주문

* 1 개 이상의 등록된 메뉴로 주문을 등록할 수 있다.
* 빈 테이블에는 주문을 등록할 수 없다.
* 주문의 목록을 조회할 수 있다.
* 주문 상태를 변경할 수 있다.
* 주문 상태가 계산 완료인 경우 변경할 수 없다.

## 용어 사전

| 한글명 | 영문명 | 설명 |
| --- | --- | --- |
|  메뉴그룹|menuGroup  | 1개 이상의 메뉴들의 집합이다. ex.한식, 중식, 일식, 양식 ... |
| 메뉴 | menu | 메뉴명, 가격 등의 정보를 가지며, 1개의 이상의 메뉴 상품으로 구성된다. ex.탕수육셋트 |
| 주문 | order | 주문 상태, 주문 시간, 주문 메뉴, 주문 테이블 의 정보를 가지고 있다. 초기 주문 상태는 '조리중(COOKING)'으로 설정 된다. |
| 상품 | product | 메뉴상품의 id로 매핑 되며, 상품명 , 상품 가격의 정보를 가지고 있다. ex. 짜장면, 탕수육 |
| 단체 테이블 | tableGroup | 2개 이상의 주문 테이블로 이루어진 단체 테이블을 의미한다. |
| 메뉴상품 | menuProduct | 메뉴를 구성하는 상품과 수량 의 정보를 가지고 있다. |
| 주문 테이블 | orderTable | 주문 테이블, 손님이 착석해 주문 및 식사를 진행 할 수 있다. 손님의 수, 공석 여부의 정보를 가지고 있.|
| 주문메뉴 | orderLineItems | 주문 번호, 주문 된 메뉴, 주문 수량의 정보를 가지고 있다.|
| 주문상태 | orderStatus | 주문 의 진행 상황을 의미 한다. COOKING, MEAL, COMPLETION 세 가지 상황으로 구성된다. |
| 조리중 | COOKING | 주문상태의 진행 상황을 의미 , 최초 주문 시의 상태 |
| 식사중 | MEAL | 주문상태의 진행 상황을 의미, 손님이 식사 중임을 의미.|
| 완료 | COMPLETION | 주문상태의 진행 상황을 의미, 손님이 식사를 끝마친 상태를 의미. |
| 공석 | empty | 테이블에서는 공석을 의미 |
| 생성일자 | createDate | 테이블 그룹 생성 시의 시간을 나타낸다. |
| 주문일자 | orderDate | 주문 시의 시간을 나타낸다. |

## 모델링
### 상품 (Product)
* 고유한 상품 ID를 가진다.
* 빈 값이 아닌 상품명을 가진다.
* 상품 가격은 0원 이상 이다.
* 상품(product) 와 메뉴 상품(menuProduct)은 productId 기준으로 1:1 매핑 된다.
* 상품을 등록 한다.
* 상품의 목록을 조회 한다.

### 메뉴 그룹 (MenuGroup)
* 고유한 메뉴그룹 ID 를 가진다.
* 메뉴그룹명을 가진다.
* 메뉴그룹은 메뉴와 메뉴그룹 ID로 1:N 매핑 된다.
  
### 메뉴 (Menu)
* 고유한 메뉴 ID를 가진다.
* 빈 값이 아닌 메뉴명, 가격, 메뉴그룹 ID, 메뉴상품 리스트를 가진다.
* 메뉴명은 빈 값이 아니다.
* 가격은 빈 값이 아닌 0 이상의 숫자이다.
* 가격은 상품 가격 x 메뉴 상품 수량의 합 보다 작아야 하며, 등록 시 이를 체크 한다.
* 메뉴 그룹 ID를 기준으로 메뉴 그룹과 매핑 되며, 메뉴는 반드시 메뉴 그룹에 속해야 한다.
* 메뉴 상품 리스트는 1개 이상의 메뉴 상품을 가진다.
  
### 메뉴 상품 (MenuProduct)
* 고유한 seq 를 가진다.
* 메뉴와 메뉴 ID를 기준으로 1:1 매핑 된다.
* 상품과 상품 ID를 기준으로 1:1 매핑 된다.
* 0 이상의 수량을 가진다.

### 주문 테이블 (OrderTable)
* 고유한 테이블 ID 를 가진다.
* 테이블 그룹과 테이블 그룹 ID 로 1:N 매핑 된다.
* 0 이상의 고객 인원 수를 가진다.
* 공석 유무를 나타 낼 수 있다.

## 테이블 그룹(TableGroup)
* 고유한 테이블 그룹 ID 를 가진다.
* 테이블과 테이블 그룹 ID 로 1:N 매핑 된다. 
* 등록 시점의 시간을 등록 시간 으로 저장 한다.

## 주문 (Order)
* 고유한 주문 ID 를 가진다.
* 주문 테이블 과 테이블 ID를 기준으로 매핑 된다.
* 주문 상태를 변경 할 수 있고, 최초 주문 상태는 '조리중' 이다.
* 1개 이상의 주문 항목 을 가진다.
* 주문 시간은 주문 등록 시점의 시간을 기준으로 저장 된다.

## 주문 항목 (OrderLineItem)
* 고유한 seq를 가진다.
* 주문과 주문 ID로 매핑 된다.
* 메뉴와 메뉴 ID로 매핑 된다.
* 메뉴 수량을 나타 낼 수 있다.

## 주문 상태 (OrderStatus)
* 주문 상태를 나타낸다.
* 주문 상태는 '조리중', '식사중', '완료' 세 가지 상태를 가진다.
